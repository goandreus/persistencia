(function(t){function r(r){for(var n,c,u=r[0],s=r[1],i=r[2],d=0,p=[];d<u.length;d++)c=u[d],o[c]&&p.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(r);while(p.length)p.shift()();return a.push.apply(a,i||[]),e()}function e(){for(var t,r=0;r<a.length;r++){for(var e=a[r],n=!0,u=1;u<e.length;u++){var s=e[u];0!==o[s]&&(n=!1)}n&&(a.splice(r--,1),t=c(c.s=e[0]))}return t}var n={},o={app:0},a=[];function c(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=n,c.d=function(t,r,e){c.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,r){if(1&r&&(t=c(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)c.d(e,n,function(r){return t[r]}.bind(null,n));return e},c.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(r,"a",r),r},c.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},c.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=r,u=u.slice();for(var i=0;i<u.length;i++)r(u[i]);var l=s;a.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("56d7")},"135e":function(t,r,e){"use strict";e.r(r);var n=e("2b0e"),o=e("9f7b");e("f9e3"),e("2dd8");n["a"].use(o["a"])},"1a9e":function(t,r,e){"use strict";e.r(r);var n=e("2b0e"),o=e("baff"),a=e.n(o);n["a"].use(a.a)},"56d7":function(t,r,e){"use strict";e.r(r);var n={};e.r(n),e.d(n,"setProducts",function(){return z});var o={};e.r(o),e.d(o,"fetchProducts",function(){return D});var a={};e.r(a),e.d(a,"addProduct",function(){return V}),e.d(a,"removeProductFromCart",function(){return W});var c={};e.r(c),e.d(c,"totalCost",function(){return X});e("cadf"),e("551c"),e("097d");var u=e("2b0e"),s=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"mt-5",attrs:{id:"app"}},[e("shop-layout",[e("template",{slot:"product-list"},[e("product-list")],1),e("template",{slot:"cart"},[e("cart")],1)],2)],1)},i=[],l=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"9"}},[t._t("product-list")],2),e("b-col",{attrs:{cols:"3"}},[t._t("cart")],2)],1)],1)},d=[],p=e("2877"),f={},v=Object(p["a"])(f,l,d,!1,null,null,null);v.options.__file="ShopLayout.vue";var b=v.exports,m=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.products.length?e("div",[e("paginate",{attrs:{name:"products",list:t.products,per:t.perPage}},[e("b-card-group",{attrs:{columns:""}},t._l(t.paginated("products"),function(r){return e("product-item",{key:r.id,attrs:{product:r},on:{addToCart:t.addProductToCart}})}))],1),e("paginate-links",{attrs:{for:"products",classes:{ul:"pagination",li:"page-item","li > a":"page-link"}}})],1):e("b-alert",{attrs:{show:"",variant:"info"}},[t._v("No hay productos que mostrar")])},h=[],_=e("c93e"),g=e("2f62"),j=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"30rem"},attrs:{title:t.product.name,"img-src":t.product.picture,"img-alt":t.product.name,"img-top":""}},[e("b-button",{attrs:{block:"",variant:"warning"},on:{click:function(r){t.$emit("addToCart",t.product)}}},[t._v("\n        Añadir al carrito\n    ")])],1)},y=[],O={props:{product:{type:Object,required:!0}}},P=O,w=Object(p["a"])(P,j,y,!1,null,null,null);w.options.__file="ProductItem.vue";var x=w.exports,C={components:{ProductItem:x},mounted:function(){this.fetchProducts()},data:function(){return{paginate:["products"],perPage:3}},computed:Object(_["a"])({},Object(g["e"])("products",["products"])),methods:Object(_["a"])({},Object(g["b"])("products",["fetchProducts"]),Object(g["d"])("cart",["addProduct"]),{addProductToCart:function(t){this.addProduct(t)}})},k=C,S=Object(p["a"])(k,m,h,!1,null,null,null);S.options.__file="ProductList.vue";var T=S.exports,$=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.cart.length?e("div",[e("b-table",{attrs:{striped:"",hover:"",items:t.cart,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(r){return[e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){e.stopPropagation(),t.removeProductFromCart(r.item)}}},[t._v("\n                Eliminar\n            ")])]}}])}),e("b-alert",{staticClass:"text-center",attrs:{show:"",variant:"success"}},[t._v("\n        Coste total: "+t._s(t.totalCost)+"€\n    ")])],1):e("b-alert",{attrs:{show:"",variant:"info"}},[t._v("No hay productos en el carrito")])},q=[],E={data:function(){return{fields:["name","qty","price","actions"]}},computed:Object(_["a"])({},Object(g["e"])("cart",["cart"]),Object(g["c"])("cart",["totalCost"])),methods:Object(_["a"])({},Object(g["d"])("cart",["removeProductFromCart"]))},F=E,L=Object(p["a"])(F,$,q,!1,null,null,null);L.options.__file="Cart.vue";var M=L.exports,A={name:"app",components:{ShopLayout:b,ProductList:T,Cart:M}},I=A,J=Object(p["a"])(I,s,i,!1,null,null,null);J.options.__file="App.vue";var N=J.exports,R={products:[]};function z(t,r){t.products=r}e("96cf");var B=e("3040");function D(t){return G.apply(this,arguments)}function G(){return G=Object(B["a"])(regeneratorRuntime.mark(function t(r){var e,n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=r.commit,t.next=3,fetch("/fixtures/products.json");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,e("products/setProducts",o,{root:!0});case 8:case"end":return t.stop()}},t,this)})),G.apply(this,arguments)}var H=!0,K={namespaced:H,state:R,mutations:n,actions:o},Q={cart:[]},U=(e("f751"),e("2ef0"));function V(t,r){var e=Object(U["find"])(t.cart,{id:r.id});if(e)e.qty+=1;else{var n=Object.assign({},r);n.qty=1,t.cart.push(n)}}function W(t,r){t.cart=Object(U["filter"])(t.cart,function(t){var e=t.id;return e!==r.id})}function X(t){return t.cart.reduce(function(t,r){return parseFloat(r.price)*r.qty+t},0)}var Y={namespaced:!0,state:Q,mutations:a,getters:c};u["a"].use(g["a"]);var Z=new g["a"].Store({state:{},modules:{products:K,cart:Y}});e("6912"),u["a"].config.productionTip=!1,new u["a"]({store:Z,render:function(t){return t(N)}}).$mount("#app")},6912:function(t,r,e){"use strict";e.r(r);e("cadf"),e("551c"),e("097d");e("135e"),e("1a9e")}});
//# sourceMappingURL=app.029646f2.js.map